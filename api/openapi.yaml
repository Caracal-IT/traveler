openapi: "3.0.0"
info:
  title: traveler
  version: 1.0.0
  description: Traveler service API
  contact:
    name: API Support
tags:
  - name: health
    description: Health and readiness endpoints
  - name: offerings
    description: Travel offerings such as specials
servers:
  - url: http://localhost:8080
    description: Development server
paths:
  /:
    get:
      summary: Root endpoint
      responses:
        '200':
          description: OK
          content:
            text/plain:
              schema:
                type: string
                example: "traveler: hello"
  /api/ping:
    get:
      summary: Health check endpoint
      description: Returns service health status with metadata
      tags:
        - health
      responses:
        '200':
          description: Service is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: ok
                  message:
                    type: string
                    example: pong
                  timestamp:
                    type: string
                    format: date-time
                    example: "2025-12-05T10:30:45.123456Z"
                  version:
                    type: string
                    example: "1.0.0"
  /api/ping/simple:
    get:
      summary: Simple health check
      description: Returns simple text response for load balancers
      tags:
        - health
      responses:
        '200':
          description: Service is healthy
          content:
            text/plain:
              schema:
                type: string
                example: pong
  /api/offerings/specials:
    get:
      summary: Get specials
      description: Returns a list of special travel packages. Requires a valid Keycloak access token.
      tags:
        - offerings
      security:
        - bearerAuth: []
      responses:
        '200':
          description: List of specials
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: sp-1001
                        name:
                          type: string
                          example: Winter Escape
                        price:
                          type: number
                          format: float
                          example: 799.0
                        currency:
                          type: string
                          example: USD
        '401':
          description: Unauthorized - missing or invalid token
        '403':
          description: Forbidden

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

